{"name":"Call to hello user fails after removing the grant authority","id":"manage-authorised-applications;call-to-hello-user-fails-after-removing-the-grant-authority","testSteps":[{"number":1,"description":"Given I have a valid bearer token for scope \"hello\"","duration":7474,"startTime":"2022-06-14T12:38:34.843+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":2,"description":"Generate access code: hello","duration":3487,"startTime":"2022-06-14T12:38:38.147+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":1},{"number":3,"description":"Generate access token using access code: 68f8bee1c3d34627abbb5988e22b9805","duration":630,"startTime":"2022-06-14T12:38:41.638+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":4,"description":"Assert last oauth call succeeded","duration":226,"startTime":"2022-06-14T12:38:42.006+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":2}]},{"number":5,"description":"Bearer token","duration":1,"startTime":"2022-06-14T12:38:42.268+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":1}]},{"number":6,"description":"When I make a call to the get hello user endpoint","duration":426,"startTime":"2022-06-14T12:38:42.318+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":7,"description":"Call get hello user","duration":409,"startTime":"2022-06-14T12:38:42.334+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":1}]},{"number":8,"description":"Then I get a successful response with the message Hello User","duration":19,"startTime":"2022-06-14T12:38:42.745+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":9,"description":"Expected http status code: 200","duration":0,"startTime":"2022-06-14T12:38:42.746+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":1},{"number":10,"description":"Expected json message: Hello User","duration":16,"startTime":"2022-06-14T12:38:42.747+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":11,"description":"Expected content type: application/json","duration":0,"startTime":"2022-06-14T12:38:42.748+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":2}]}]},{"number":12,"description":"When I remove authority for scope \"hello\"","duration":379075,"startTime":"2022-06-14T12:38:42.765+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207101840}],"result":"SUCCESS","precondition":false,"level":0,"children":[{"number":13,"description":"Complete auth stub form: hello","duration":14039,"startTime":"2022-06-14T12:38:43.997+01:00[Europe/London]","screenshots":[{"screenshot":"fc29e303d160f73315920f79c55fca0b77654773b04ec253a7c38df72c23ec1c.png","timeStamp":1655206738036}],"result":"SUCCESS","precondition":false,"level":1,"children":[{"number":14,"description":"Open auth login stub page","duration":11051,"startTime":"2022-06-14T12:38:43.998+01:00[Europe/London]","screenshots":[{"screenshot":"6294560e6bb0f37bd3012abc782395e92de440d4036d9426a51b0b84850c83c2.png","timeStamp":1655206735048}],"result":"SUCCESS","precondition":false,"level":2},{"number":15,"description":"Complete the auth login stub form: hello","duration":2983,"startTime":"2022-06-14T12:38:55.051+01:00[Europe/London]","screenshots":[{"screenshot":"6294560e6bb0f37bd3012abc782395e92de440d4036d9426a51b0b84850c83c2.png","timeStamp":1655206735057},{"screenshot":"fc29e303d160f73315920f79c55fca0b77654773b04ec253a7c38df72c23ec1c.png","timeStamp":1655206738033}],"result":"SUCCESS","precondition":false,"level":2}]},{"number":16,"description":"^view authorised applications$","duration":1838,"startTime":"2022-06-14T12:38:58.038+01:00[Europe/London]","screenshots":[{"screenshot":"fc29e303d160f73315920f79c55fca0b77654773b04ec253a7c38df72c23ec1c.png","timeStamp":1655206738041},{"screenshot":"437149991202692209f695f9050dfec700e7613c7a967a547b5b585c6075fe6b.png","timeStamp":1655206739875}],"result":"SUCCESS","precondition":false,"level":1},{"number":17,"description":"^remove authority$","duration":361956,"startTime":"2022-06-14T12:38:59.876+01:00[Europe/London]","screenshots":[{"screenshot":"437149991202692209f695f9050dfec700e7613c7a967a547b5b585c6075fe6b.png","timeStamp":1655206739879},{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207101831}],"result":"SUCCESS","precondition":false,"level":1}]},{"number":18,"description":"And I make a call to the get hello user endpoint","duration":1194,"startTime":"2022-06-14T12:45:01.842+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207103036}],"result":"SUCCESS","precondition":false,"level":0,"children":[{"number":19,"description":"Call get hello user","duration":1185,"startTime":"2022-06-14T12:45:01.847+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207103031}],"result":"SUCCESS","precondition":false,"level":1}]},{"number":20,"description":"Then I get an unauthorised response due to invalid credentials","duration":846,"startTime":"2022-06-14T12:45:03.036+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207103882}],"result":"SUCCESS","precondition":false,"level":0,"children":[{"number":21,"description":"Expected http status code: 401","duration":5,"startTime":"2022-06-14T12:45:03.041+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207103046}],"result":"SUCCESS","precondition":false,"level":1},{"number":22,"description":"Expected json error code: INVALID_CREDENTIALS","duration":803,"startTime":"2022-06-14T12:45:03.047+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207103850}],"result":"SUCCESS","precondition":false,"level":1,"children":[{"number":23,"description":"Expected content type: application/json","duration":7,"startTime":"2022-06-14T12:45:03.049+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207103056}],"result":"SUCCESS","precondition":false,"level":2}]},{"number":24,"description":"Expected json message: Invalid Authentication information provided","duration":28,"startTime":"2022-06-14T12:45:03.851+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207103879}],"result":"SUCCESS","precondition":false,"level":1,"children":[{"number":25,"description":"Expected content type: application/json","duration":7,"startTime":"2022-06-14T12:45:03.856+01:00[Europe/London]","screenshots":[{"screenshot":"8d1e12ec8b9e247e7e4ee4844b41bca413e4e4b8410f8c30a34bc474f92f6a7f.png","timeStamp":1655207103863}],"result":"SUCCESS","precondition":false,"level":2}]}]}],"userStory":{"id":"manage-authorised-applications","storyName":"Manage Authorised Applications","path":"classpath:features/platform/manageAuthorisedApplications.feature","type":"feature"},"featureTag":{"name":"Platform/Manage Authorised Applications","type":"feature","displayName":"Platform/Manage Authorised Applications"},"title":"Call to hello user fails after removing the grant authority","description":"","tags":[{"name":"api-revocation-frontend","type":"tag","displayName":"api-revocation-frontend"},{"name":"Platform/Manage Authorised Applications","type":"feature","displayName":"Manage Authorised Applications"},{"name":"feature","type":"tag","displayName":"feature"},{"name":"remove-authority","type":"tag","displayName":"remove-authority"},{"name":"Platform","type":"capability","displayName":"Platform"},{"name":"regression-tests","type":"tag","displayName":"regression-tests"}],"startTime":"2022-06-14T12:38:33.593+01:00[Europe/London]","duration":390293,"projectKey":"","sessionId":"8f91e487025ab2b6e244588f9e37461b","driver":"chrome","isManualTestingUpToDate":false,"manual":false,"testSource":"Cucumber","result":"SUCCESS"}